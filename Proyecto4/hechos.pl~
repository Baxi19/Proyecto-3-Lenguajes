aula(1, 'lab-01', 20, 'laboratorio').
aula(2, 'lab-02', 20, 'laboratorio').
aula(3, 'auc-01', 24, 'laboratorio').
aula(4, 'mvl-01', 20, 'laboratorio').
aula(5, 'e-10', 24, 'normal').
aula(6, 'e-11', 24, 'normal').
aula(7, 'e-12', 28, 'normal').
aula(11, 'A-03', 35, 'normal').
profesor(1, 'alejandro', 'Alfaro Quesada', '1-846-952').
profesor(2, 'rocio', 'Quiros Oviedo', '1-951-912').
profesor(3, 'abel', 'Mendez Porras', '7-511-626').
profesor(4, 'diego', 'Rojas Vega', '6-625-518').
profesor(5, 'efren', 'Jimenez Delgado', '3-818-292').
profesor(6, 'lorena', 'Valerio Solis', '6-514-651').
profesor(7, 'jorge', 'Alfaro Velasco', '2-651-611').
profesor(8, 'marlen', 'Treviño Villalobos', '6-515-321').
profesor(9, 'leo', 'Viquez Acuña', '3-216-566').
profesor(10, 'oscar', 'Viquez Acuña', '5-616-612').
profesor(11, 'vera', 'Gamboa Guzman', '4-646-654').
profesor(12, 'rogelio', 'Gonzalez Quiros', '6-545-613').
curso(1, 'fundamentos', 'normal', 3, 1, 2).
curso(2, 'introduccion', 'normal', 3, 1, 2).
curso(3, 'taller', 'laboratorio', 3, 1, 1).
curso(4, 'estructuras', 'laboratorio', 4, 2, 1).
curso(5, 'poo', 'laboratorio', 3, 2, 2).
curso(6, 'arquitectura', 'normal', 4, 2, 1).
curso(7, 'analisis', 'laboratorio', 4, 3, 2).
curso(8, 'bases1', 'laboratorio', 4, 3, 1).
curso(9, 'bases2', 'laboratorio', 3, 4, 2).
curso(10, 'lenguajes', 'laboratorio', 4, 4, 1).
curso(11, 'requerimientos', 'normal', 4, 4, 2).
curso(12, 'ap', 'normal', 4, 5, 1).
curso(13, 'compiladores', 'laboratorio', 4, 5, 2).
curso(14, 'diseno', 'laboratorio', 4, 5, 1).
curso(15, 'electiva1', 'laboratorio', 3, 6, 2).
curso(16, 'io', 'normal', 4, 6, 1).
curso(17, 'operativos', 'laboratorio', 4, 6, 2).
curso(18, 'calidad', 'laboratorio', 3, 6, 1).
curso(19, 'compuSociedad', 'normal', 2, 6, 2).
curso(20, 'electiva2', 'laboratorio', 4, 7, 1).
curso(21, 'ia', 'laboratorio', 4, 7, 2).
curso(22, 'redes', 'laboratorio', 4, 7, 1).
curso(23, 'proyectoS', 'laboratorio', 3, 7, 2).
curso(24, 'practica', 'laboratorio', 12, 8, 2).
dia(1, 'Lunes').
dia(2, 'Martes').
dia(3, 'Miercoles').
dia(4, 'Jueves').
dia(5, 'Viernes').
dia(6, 'Sabado').
dia(7, 'Domingo').
leccion(1, 'l1', 'Lunes', '07:55', '09:40').
leccion(2, 'l2', 'Lunes', '09:45', '11:30').
leccion(3, 'l3', 'Lunes', '12:30', '02:15').
leccion(4, 'l4', 'Lunes', '02:20', '04:05').
leccion(5, 'l1', 'Martes', '07:55', '09:40').
leccion(6, 'l2', 'Martes', '09:45', '11:30').
leccion(7, 'l3', 'Martes', '12:30', '02:15').
leccion(8, 'l4', 'Martes', '02:20', '04:05').
leccion(9, 'l1', 'Miercoles', '07:55', '09:40').
leccion(10, 'l2', 'Miercoles', '09:45', '11:30').
leccion(11, 'l3', 'Miercoles', '12:30', '02:15').
leccion(12, 'l4', 'Miercoles', '02:20', '04:05').
leccion(13, 'l1', 'Jueves', '07:55', '09:40').
leccion(14, 'l2', 'Jueves', '09:45', '11:30').
leccion(15, 'l3', 'Jueves', '12:30', '02:15').
leccion(16, 'l4', 'Jueves', '02:20', '04:05').
leccion(17, 'l1', 'Viernes', '07:55', '09:40').
leccion(18, 'l2', 'Viernes', '09:45', '11:30').
leccion(19, 'l3', 'Viernes', '12:30', '02:15').
leccion(20, 'l4', 'Viernes', '02:20', '04:05').
disponibilidad(1, 'alejandro', 'Lunes').
disponibilidad(2, 'alejandro', 'Martes').
disponibilidad(3, 'rocio', 'Miercoles').
disponibilidad(4, 'abel', 'Lunes').
disponibilidad(5, 'abel', 'Viernes').
disponibilidad(6, 'diego', 'Jueves').
disponibilidad(7, 'diego', 'Viernes').
disponibilidad(8, 'efren', 'Lunes').
disponibilidad(9, 'efren', 'Martes').
disponibilidad(10, 'efren', 'Miercoles').
disponibilidad(11, 'efren', 'Jueves').
disponibilidad(12, 'lorena', 'Lunes').
disponibilidad(13, 'lorena', 'Martes').
disponibilidad(14, 'lorena', 'Miercoles').
disponibilidad(15, 'lorena', 'Jueves').
disponibilidad(16, 'jorge', 'Lunes').
disponibilidad(17, 'jorge', 'Martes').
disponibilidad(18, 'jorge', 'Miercoles').
disponibilidad(19, 'jorge', 'Jueves').
disponibilidad(20, 'marlen', 'Lunes').
disponibilidad(21, 'marlen', 'Martes').
disponibilidad(22, 'marlen', 'Miercoles').
disponibilidad(23, 'marlen', 'Jueves').
disponibilidad(24, 'leo', 'Lunes').
disponibilidad(25, 'leo', 'Martes').
disponibilidad(26, 'leo', 'Miercoles').
disponibilidad(27, 'leo', 'Viernes').
disponibilidad(28, 'oscar', 'Lunes').
disponibilidad(29, 'oscar', 'Martes').
disponibilidad(30, 'oscar', 'Miercoles').
disponibilidad(31, 'oscar', 'Jueves').
disponibilidad(32, 'vera', 'Lunes').
disponibilidad(33, 'vera', 'Martes').
disponibilidad(34, 'vera', 'Miercoles').
disponibilidad(35, 'vera', 'Jueves').
disponibilidad(36, 'rogelio', 'Lunes').
disponibilidad(37, 'rogelio', 'Martes').
disponibilidad(38, 'rogelio', 'Miercoles').
disponibilidad(39, 'rogelio', 'Viernes').
imparte(1, 'alejandro', 'requerimientos').
imparte(2, 'alejandro', 'diseno').
imparte(3, 'rocio', 'fundamentos').
imparte(4, 'rocio', 'estructuras').
imparte(5, 'abel', 'bases1').
imparte(6, 'abel', 'proyectoS').
imparte(7, 'abel', 'ia').
imparte(8, 'abel', 'io').
imparte(9, 'diego', 'fundamentos').
imparte(10, 'diego', 'estructuras').
imparte(11, 'diego', 'proyectoS').
imparte(12, 'efren', 'analisis').
imparte(13, 'efren', 'bases1').
imparte(14, 'efren', 'bases2').
imparte(15, 'efren', 'electiva2').
imparte(16, 'lorena', 'analisis').
imparte(17, 'lorena', 'bases1').
imparte(18, 'lorena', 'poo').
imparte(19, 'jorge', 'arquitectura').
imparte(20, 'jorge', 'operativos').
imparte(21, 'marlen', 'bases1').
imparte(22, 'marlen', 'bases2').
imparte(23, 'marlen', 'poo').
imparte(24, 'marlen', 'calidad').
imparte(25, 'leo', 'electiva1').
imparte(26, 'leo', 'ap').
imparte(27, 'leo', 'bases2').
imparte(28, 'oscar', 'lenguajes').
imparte(29, 'oscar', 'compiladores').
imparte(30, 'oscar', 'practica').
imparte(31, 'vera', 'introduccion').
imparte(32, 'vera', 'taller').
imparte(33, 'vera', 'compuSociedad').
imparte(34, 'rogelio', 'practica').
imparte(35, 'rogelio', 'redes').
imparte(36, 'rogelio', 'ia').
imparte(37, 'rogelio', 'electiva2').
imparte(38, 'rogelio', 'io').
imparte(39, 'rogelio', 'electiva1').




imprime([]).
imprime([X|Xs]) :-
    nl, write(X),
    imprime(Xs).


buscar_cursos([],Lista):-
    imprime(Lista).
buscar_cursos([X|Xs], Lista):-
    curso(Id_curso, X, Asignatura, Creditos, Semestre, Dias),
    aula(Id_aula, Nombre_aula, Capacidad, Asignatura),
    dia(Id_dia, Dia),
    leccion(Id_Leccion, Nombre_leccion, Dia, Hora_inicio, Hora_salida),
    profesor(Id_profesor, Nombre_profesor, Apellidos, Cedula),
    imparte(_, Nombre_profesor, X),
    disponibilidad(_, Nombre_profesor, Dia),
    Lista_nueva is [Id_dia,Id_Leccion,Id_curso,Id_aula, Id_profesor],
    not(member(Lista_nueva,Lista)),
    buscar_cursos(Xs, [Lista_nueva|Lista]).



todos_horarios(Resultado) :-
    findall(
        Profesor-Curso-Dia1-Dia2-Leccion1-Leccion2-Aula-Semestre,
       (
       horario(Profesor, Curso,Dia1,Dia2, Leccion1,Leccion2, Aula, Semestre)
       ),Resultado).

todos_horarios_semestre(Resultado, Semestre) :-
    findall(
        Profesor-Curso-Dia1-Dia2-Leccion1-Leccion2-Aula-Semestre,
       (
       horario(Profesor, Curso,Dia1,Dia2, Leccion1,Leccion2, Aula, Semestre)
       ),Resultado).



horario(Profesor, Curso,Dia,Dia2, Leccion,Leccion2, Aula, Semestre) :-
    profesor(_,Profesor, _,_),
    curso(_,Curso,Tipo,_,Semestre, Dias ),
    Dias = 1,
    dia(_,Dia),
    dia(_,Dia2),
    Dia = Dia2,
    leccion(_,Leccion, Dia, _, _),
    leccion(_,Leccion2, Dia2, _, _),
    not(Leccion = Leccion2),
    aula(_,Aula, _, Tipo),
    disponibilidad(_,Profesor, Dia),
    imparte(_,Profesor, Curso).

horario(Profesor, Curso,Dia,Dia2, Leccion,Leccion2, Aula, Semestre) :-
    profesor(_,Profesor, _,_),
    curso(_,Curso,Tipo,_,Semestre, Dias ),
    Dias = 2,
    dia(_,Dia2),
    dia(_,Dia), %OR
    not(Dia = Dia2),
    leccion(_,Leccion, Dia, _, _),
    leccion(_,Leccion2, Dia2, _, _),
    aula(_,Aula, _, Tipo),
    disponibilidad(_,Profesor, Dia),
    imparte(_,Profesor, Curso).
