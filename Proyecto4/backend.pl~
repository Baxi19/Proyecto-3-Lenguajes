%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%REGLAS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%Para calcular los semestres, si es par o no
par(X) :- 0 is X mod 2.
impar(X) :- 1 is X mod 2.

%para almacenar todos los horarios posibles por profesor y sus aulas
% horario(Leccion,Dias, Horario,Bloque,Curso,Creditos,Semestre, Cantidad_dias, Aula,Capacidad, Profesor).
horario(Leccion,Dia, Horario,Bloque, Curso,Creditos,Semestre, Cantidad_dias, Aula ,Capacidad, Profesor) :-
    asignatura(Curso,Tipo_curso),
    aula(Aula),
    tipo(Aula, Tipo_aula),
    capacidad(Aula, Capacidad),
    (Tipo_curso = Tipo_aula),
    profesor(Profesor),
    curso(Curso),
    creditos(Curso,Creditos),
    semestre(Curso,Semestre),
    cantidad_dias(Curso, Cantidad_dias),
    imparte(Profesor, Curso),
    disponibilidad(Profesor, Lista),
    leccion(Leccion),
    buscar_bloque(Leccion, Bloque),
    dia_leccion(Leccion, Dia),
    member(Dia, Lista),
    hora_leccion(Leccion,Horario).


%Se obtiene una lista con todas las lecciones disponibles
todas_lecciones(Resultado) :-
    findall(Leccion$Dia$Hora,(leccion(Leccion),dia_leccion(Leccion,Dia),hora_leccion(Leccion,Hora)),Resultado).

%se obtiene una lista con todos los cursos disponibles
todos_cursos(Resultado) :-
    findall(Curso->Asignatura->Peso->Semestre->Dia,(curso(Curso),asignatura(Curso,Asignatura),creditos(Curso,Peso),semestre(Curso,Semestre),cantidad_dias(Curso,Dia)),Resultado).

%se obtiene una lista con todos los datos de los profesores disponibles
todos_profesores(Resultado) :-
    findall(Profesor->Apellidos->Cedula->Disponibilidad->Imparte,(profesor(Profesor),apellidos(Profesor,Apellidos),cedula(Profesor,Cedula),disponibilidad(Profesor,Disponibilidad),imparte(Profesor,Imparte)),Resultado).

%se obtiene una lista con la informacion de todas las aulas
todas_aulas(Resultado) :-
    findall(Aula->Capacidad->Tipo, (aula(Aula),capacidad(Aula,Capacidad),tipo(Aula,Tipo)),Resultado).

%para saber si es miembro de una lista
es_miembro(X,[X|_]).
es_miembro(X,[_|T]):-
    es_miembro(X,T).

%Solucion pregunta #2
%profesor, semestre, curso, disponibilidad, imparte
